# 233pull-the-box-game
This is a project that write by C,which is a easy pull box game with visible GUI.

一、程序设计目标
推箱子是大家童年的回忆，是一款操作简单，但是极具可玩性的小游戏，同时也十分锻炼人的逻辑思维能力。这次课程设计我们小组打算用基础的C语言编写一款推箱子游戏。
本次程序设计旨在通过运用VC++语言编写一款有趣的、可玩性强的小游戏，巩固和掌握并灵活运用c语言编写语句实现游戏界面、选择关卡、玩家使用键盘与窗口进行交互等功能，巩固这学期学习的c语言编程知识并在实践中运用，提高对c语言学习和编写的兴趣。

二、功能需求分析
1.课程设计任务
（1）有一定的游戏规则
推箱子游戏规则：玩家控制小人移动，将地图内所有箱子推到指定目的地即可胜利。
（2）数据使用数组、结构体、链表等均可
推箱子地图数据使用结构体。
（3）键盘或鼠标操作
推箱子使用WASD和方向键进行游戏，R键进行重置。

2.程序实现功能
（1）玩家通过菜单选择开始或退出游戏
（2）玩家通过输入数字选择关卡
（3）玩家通过键盘操作人物进行推箱子游戏

3.具体功能描述
（1）菜单界面：菜单界面供玩家选择开始游戏或退出游戏。
（2）选关界面：选关界面供玩家选择开始的关卡。
（3）游戏界面：游戏界面含有游戏画面，操作说明、过关提示模块。游戏界面供玩家进行
游戏，通过键盘控制小人移动，地图重置。成功过关自动显示下一关。

4.所包含的函数

（1）system(“cls”);功能是执行一个MS DOS命令，在这里就是起清屏作用。
（2）system("pause");当前的控制台程序会停留在该行代码。
（3）printf();功能是打印输出。
（4）scanf();功能是扫描输入的值。
（5）getch()；功能是不显示的读取用户按下的一个字符。
（6）int main()；功能是程序执行的入口。
（7）void menu()；功能是打印菜单内容。
（8）void map()；功能是打印地图。
（9）void play()；功能是游戏主体流程。
（10）void back();功能是重置地图，将初始地图赋值为当前地图。
（11）int win();功能是判断玩家是否胜利。
（12）void game();功能是进行游戏主体流程。
（13）loadimage();(可视化版本)功能是装载图标，光标，或位图。
（14）initgraph();(可视化版本)功能是初始化一个区域图形。
（15）void loadResource();(可视化版本)功能是装载所有游戏运行需要的位图。
（16）void drawmap();(可视化版本)功能是根据地图数组显示图片素材。
	
 
三、具体设计
1.具体设计
详见代码文件
2.遇到的问题及其解决办法
（1）地图数据处理和存放问题
每个关卡设置了不同大小的地图，每次调用地图时大小不一导致无法传递。最后采用结构体的储存方式，将地图的长宽一并储存运用指针进行函数处理。
（2）实现重置功能的问题
重置键需要将可变的地图变成初始的地图，因此需要一个量存储初始地图。初始化后发现重置错误。最后采用了和原来一样的结构体。重置错误是因为没有再次找到人的位置，因此在重置键处再次放入找到人的位置函数。
（3）可视化问题
将打印地图函数改成打印图片发现玩家不能对地图进行移动。原因是对函数的使用不当，在针对每一个函数进行测试后，修改了游戏流程函数的调用关系。


四、课程设计总结

此次课设是我们小组第一次编写五百行以上的程序，编写过程中发现其实写出程序没有那么困难，困难的是在众多函数调用中寻找出错点并改正。我们出现了各种各项的问题，编译问题运行问题逻辑问题……找到一个BUG并修改好后又发现一个BUG是一种痛并快乐的过程。也是我们打代码能力进步的螺旋式上升过程。这几天在机房按下编译和运行按钮的那一瞬间，时时刻刻感受着人生的大起大落和跌宕起伏。这次课程设计，培养的不光是打代码的能力，还有无尽的找BUG耐心和如何利用资源的能力。

